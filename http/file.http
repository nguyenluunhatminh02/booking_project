### (0) Bearer token (Ä‘iá»n token tháº­t cá»§a báº¡n)
@API = http://localhost:3000
@TOKEN = {{PUT_YOUR_JWT_HERE}}

### 1) Presign upload (xin URL PUT)
POST {{API}}/v1/files/presign-upload
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "propertyId": "prop_123",
  "contentType": "image/jpeg"
}

### ğŸ‘‰ copy "putUrl" vÃ  "objectKey" tá»« response bÃªn trÃªn
### 2) Upload trá»±c tiáº¿p lÃªn MinIO báº±ng presigned URL
# Thay {{PUT_URL}} = giÃ¡ trá»‹ "putUrl" vÃ  giá»¯ nguyÃªn Content-Type y há»‡t
PUT {{PUT_URL}}
Content-Type: image/jpeg

< ./sample.jpg

### 3) Attach vÃ o DB (validate + lÆ°u Photo)
POST {{API}}/v1/files/attach-photo
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "propertyId": "prop_123",
  "objectKey": "properties/prop_123/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.jpg"
}

### 4) Presign download Ä‘á»ƒ xem nhanh (náº¿u bucket private)
POST {{API}}/v1/files/presign-download
Authorization: Bearer {{TOKEN}}
Content-Type: application/json

{
  "objectKey": "properties/prop_123/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.jpg"
}
